console.clear();import{gsap as e,Draggable as t,Flip as r,InertiaPlugin as a,SlowMo as o,RoughEase as c}from"./external/greensock/all.js";import s from"./utilities.js";import n from"./constants.js";import l from"./tarot-deck.js";import i from"./tarot-card.js";e.t(t,r,a,o,c),Object.entries({o:()=>{$("#over-layer *").off("click mouseenter");const t=e.timeline({l(){Table.Phase="CardsDealt",Table.ReadyReading()}});return t.to("#over-layer",{opacity:0,i:"expo.out",duration:2.5,l(){$("#over-layer *").remove(),e.set("#over-layer",{scale:1,opacity:1})}},0),t.to(".canvas-layer:not(#over-layer)",{scale:1,duration:3,i:"expo.out"},0),t},p:()=>{const t=e.timeline();return t.u("#reading-section",{h:45},{h:0,duration:6,i:"sine"}),t.to("#blackout-layer",{opacity:0,duration:6,m:45,i:"sine"},0),t.to(".canvas-layer:not(#control-layer):not(#blackout-layer)",{scale:1,opacity:1,m:45,duration:6,i:"sine"},0),t}}).forEach((([t,r])=>e.k({name:t,effect:r})));const p={T:!1,g:[],v:!1,j:n.O.C,$:!0,get F(){return this.$?n.O.$:this.j},set F(e){this.j=e},S:{1:{U:!1,D:!1,I:n.P[1],R:!1,X:!1,H:!1},2:{U:!1,D:!1,I:n.P[2],R:!1,X:!1,H:!1},3:{U:!1,D:!1,I:n.P[3],R:!1,X:!1,H:!1},4:{U:!1,D:!1,I:n.P[4],R:!1,X:!1,H:!1},5:{U:!1,D:!1,I:n.P[5],R:!1,X:!1,H:!1}},get Z(){return[1,2,3,4,5].find((e=>this.S[e].U&&!1===this.S[e].R))},get A(){return[1,2,3,4,5].find((e=>!1===this.S[e].U))},get G(){return Object.values(this.S).map((({U:e})=>e))}},d=(e,t)=>{if(e in n.O)switch(p.F=n.O[e],console.log(`*** SWITCHING PHASE TO: ${n.O[e]}`),e){case n.O.L:return u();case n.O.M:return h(t);default:return!0}},y=()=>{},u=()=>{p.$=!0,e.N.p().then((()=>{$("#blackout-layer").remove(),p.$=!1}))},h=({T:e})=>{p.$=!0,p.T=e,console.log("Starting Orbit"),console.log(p),p.T.W()};(()=>{e.set("#blackout-layer, .canvas-layer",{_:-50,q:-50,x:"50vw",y:"50vh",z(e,t){switch(t.id){case"blackout-layer":return 500;case"background-layer":return n.J.B-2;case"under-layer":return n.J.B-1;case"card-layer":return n.J.B;case"over-layer":return n.J.B+n.J.K;case"control-layer":return n.J.B+2*n.J.K}},m:(e,t)=>"control-layer"===t.id?0:80,opacity:1,scale(e,t){switch(t.id){case"background-layer":case"under-layer":case"card-layer":case"over-layer":case"blackout-layer":case"control-layer":return 1}},V:!0});Object.keys(n.Y);const t=Object.keys(n.Y).map((e=>new l(e,p))),[r,a]=s.ee(t,((e,r)=>r<=Math.ceil(t.length/2)-1)),o=(e.te("#card-layer","width")-n.U.width*r.length-n.spacing.x*(r.length-1))/2,c=(e.te("#card-layer","width")-n.U.width*a.length-n.spacing.x*(a.length-1))/2;r.forEach(((e,t)=>{e.x=o+.5*n.U.width+t*(n.spacing.x+n.U.width),e.y=1*n.U.height,p.g.push(e),console.log({[`Row 1, Deck ${t}`]:{x:e.x,y:e.y}}),e.re(1)})),a.forEach(((e,t)=>{e.x=c+.5*n.U.width+t*(n.spacing.x+n.U.width),e.y=2.5*n.U.height,p.g.push(e),console.log({[`Row 2, Deck ${t}`]:{x:e.x,y:e.y}}),e.re(2)}))})(),$(document).ready((()=>{l.ae(),i.ae(),u()}));export{p as SessionData,d as SetPhase,y as Update};