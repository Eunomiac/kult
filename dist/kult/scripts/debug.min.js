import{gsap as o,CustomEase as t,CustomWiggle as e,ExpoScaleEase as a,Flip as r,MotionPathPlugin as n,RoughEase as l,SlowMo as s,SplitText as i}from"./external/greensock/all.js";import{InitializeDomElements as c,Initialize as g,SessionData as d,SetPhase as y,Update as h}from"../kult.js";import b from"./utilities.js";import p from"./constants.js";import u from"./tarot-deck.js";import k from"./tarot-card.js";const f={o:!0,t:{l:[()=>{o.g.i(50),o.h(5,(()=>{const t=d.p[2];y(p.k.u,{$:t}),o.h(13,(()=>{o.g.i(1)}))}))},()=>{o.g.i(50),o.h(5,(()=>{const t=d.p[2];t.m=t.m.filter((o=>["Crescents","Eyes","Hourglasses"].includes(o.v))),y(p.k.u,{$:t}),o.h(13,(()=>{o.g.i(1)}))}))},"black","white"],C:[()=>{o.g.i(50),o.h(5,(()=>{const t=d.p[2];y(p.k.u,{$:t}),o.h(13,(()=>{d.$.S.slice(0,5).forEach((o=>o.Z())),o.h(13,(()=>{o.g.i(1)}))}))}))},()=>{o.g.i(50),o.h(5,(()=>{const t=d.p[2];t.m=t.m.filter((o=>["Crescents","Eyes","Hourglasses"].includes(o.v))),y(p.k.u,{$:t}),o.h(13,(()=>{d.$.S.slice(0,5).forEach((o=>o.Z())),o.h(13,(()=>{o.g.i(1)}))}))}))},"black","white"],X:[()=>{o.g.i(50),o.h(5,(()=>{const t=d.p[2];y(p.k.u,{$:t}),o.h(13,(()=>{d.$.S.slice(0,5).forEach((o=>o.Z())),o.h(13,(()=>{Object.values(d.T).forEach((({Y:o})=>o.I())),o.h(10,(()=>{o.g.i(1)}))}))}))}))},()=>{o.g.i(50),o.h(5,(()=>{const t=d.p[2];t.m=t.m.filter((o=>["Crescents","Eyes","Hourglasses"].includes(o.v))),y(p.k.u,{$:t}),o.h(13,(()=>{d.$.S.slice(0,5).forEach((o=>o.Z())),o.h(13,(()=>{Object.values(d.T).forEach((({Y:o})=>o.I())),o.g.i(1)}))}))}))},"black","white"],A:[()=>o.set(".canvas-layer:not(#control-layer)",{P:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{P:"-=5"}),"#ff66d9"],G:[()=>o.set(".canvas-layer:not(#control-layer)",{R:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{R:"-=5"}),"#ff66d9"],j:[()=>o.set(".canvas-layer:not(#control-layer)",{H:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{H:"-=5"}),"#ff66d9"],O:[()=>o.set(".master-layer",{perspective:"+=100"}),()=>o.set(".master-layer",{perspective:"-=100"}),"#4da6ff"],F:[()=>o.set(".canvas-layer:not(#control-layer)",{x:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{x:"-=5"}),"#ffff33"],D:[()=>o.set(".canvas-layer:not(#control-layer)",{y:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{y:"-=5"}),"#ffff33"],L:[()=>o.set(".canvas-layer:not(#control-layer)",{z:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{z:"-=5"}),"#ffff33"],W:[()=>o.set("#reading-section",{scale:1.1*o.N("#reading-section","scale")}),()=>o.set("#reading-section",{scale:o.N("#reading-section","scale")/1.1}),"navy","white"],M:[t=>{o.g.paused()?(o.g.play(),$(t.target).text("Pause").css({backgroundColor:"#990000"})):(o.g.pause(),$(t.target).text("Play").css({backgroundColor:"#009900"}))},null,"#990000"],B:[()=>o.g.i(1.5*o.g.i()),()=>o.g.i(o.g.i()/1.5),"brown"],U:[t=>{10===o.g.i()?(o.g.i(.2),$(t.target).text("▲⏰▲").css({color:"black",backgroundColor:"brown"})):(o.g.i(50),$(t.target).text("▼⏰▼").css({color:"white",backgroundColor:"#330033"}))},()=>o.g.i(1),"brown"],V:[()=>{f.q={x:o.N("#background-layer","x"),y:o.N("#background-layer","y"),z:o.N("#background-layer","z"),P:o.N("#background-layer","rotationX"),R:o.N("#background-layer","rotationY"),H:o.N("#background-layer","rotationZ"),scale:o.N("#background-layer","scale"),J:o.N("#ghost-slot-1","x"),K:o.N("#ghost-slot-1","y"),_:o.N("#ghost-slot-1","z")}},null,"#666666","white"],oo:[()=>o.set(".ghost-zone",{x:"+=5"}),()=>o.set(".ghost-zone",{x:"-=5"}),"lime"],eo:[()=>o.set(".ghost-zone",{y:"+=5"}),()=>o.set(".ghost-zone",{y:"-=5"}),"lime"],ao:[()=>o.set(".ghost-zone",{z:"+=5"}),()=>o.set(".ghost-zone",{z:"-=5"}),"lime"],ro:[()=>o.set(".ghost-zone",{height:"+=5"}),()=>o.set(".ghost-zone",{height:"-=5"}),"lime"],no:[()=>o.set(".ghost-zone",{width:"+=5"}),()=>o.set(".ghost-zone",{width:"-=5"}),"lime"],lo:[o.set(".ghost-zone",{scale:1.1*o.N("#ghost-slot-1","scale")}),()=>o.set(".ghost-zone",{scale:o.N("#ghost-slot-1","scale")/1.1}),"lime"],so:[()=>o.set(".ghost-zone",{P:"+=5"}),()=>o.set(".ghost-zone",{P:"-=5"}),"lime"],io:[()=>$("#reading-section").toggleClass("show-pop-text"),null,"white"],co:[()=>$("#reading-section").toggleClass("show-ghost-text"),null,"white"]},do:{get yo(){return[b.ho(o.N("#reading-section","perspective")),"#4da6ff"]},get bo(){return[[`X: ${b.ho(o.N("#background-layer","rotationX"))}deg (${b.po(b.ho(b.uo(f.q?.P,o.N("#background-layer","rotationX"))))})`,`Y: ${b.ho(o.N("#background-layer","rotationY"))}deg (${b.po(b.ho(b.uo(f.q?.R,o.N("#background-layer","rotationY"))))})`,`Z: ${b.ho(o.N("#background-layer","rotationZ"))}deg (${b.po(b.ho(b.uo(f.q?.H,o.N("#background-layer","rotationZ"))))})`].join(" "),"#ff66d9"]},get ko(){return[[`X: ${b.po(b.ho(o.N("#background-layer","x")-f.q?.x))}px`,`Y: ${b.po(b.ho(o.N("#background-layer","y")-f.q?.y))}px`,`Z: ${b.po(b.ho(o.N("#background-layer","z")-f.q?.z))}px`].join(" "),"#ffff33"]},get fo(){return[o.g.i(),"brown"]},get xo(){return[b.ho(o.N("#reading-section","scale"),2),"cyan"]},get $o(){return[[`X: ${b.po(b.ho(o.N("#ghost-slot-1","x")-f.q?.J))}px, ${b.ho(o.N("#ghost-slot-1","rotationX"))}deg`,`Y: ${b.po(b.ho(o.N("#ghost-slot-1","y")-f.q?.K))}px, ${b.ho(o.N("#ghost-slot-1","rotationY"))}deg`,`Z: ${b.po(b.ho(o.N("#ghost-slot-1","z")-f.q?._))}px, ${b.ho(o.N("#ghost-slot-1","rotationZ"))}deg`,`Height: ${b.ho(o.N("#ghost-slot-1","height"))}`,`Width: ${b.ho(o.N("#ghost-slot-1","width"))}`,`Scale: ${b.ho(o.N("#ghost-slot-1","scale"))}`].join(" "),"lime"]}},mo:(t,{wo:e,label:a,color:r="cyan",bgColor:n="lime",shadowColor:l="black"}={})=>{let s,i,c;"id"in t?(e=$(e??$(t).parent()),s=o.N(t,"x"),i=o.N(t,"y"),c=o.N(t,"z")):(e=$(e??"body"),({x:s,y:i,z:c}=t));const g=`rgba(${[...o.vo.zo(n),.2].join(", ")})`;console.log(g);const d=Boolean(l)?new Array(4).fill(`0 0 4px ${l}`).join(", "):"none",[y]=$('<div class="ping"></div>').appendTo(e);if(a){const[t]=$(`<span class="label">${a}</span>`).appendTo(y);o.set(t,{display:"block",marginTop:-20,width:"80%",textAlign:"center",marginLeft:"-40%",color:"white",background:"inherit",outline:"inherit",borderRadius:25,fontFamily:"Arial",textShadow:new Array(8).fill("0 0 4px black").join(", ")})}const[h]=$('<span class="coords"></span>').appendTo(y).html([parseInt(s),parseInt(i),parseInt(c)].join("<br>"));return o.set(y,{Co:-50,So:-50,x:s,y:i,z:c,H:-1*o.N(e[0],"rotationZ"),height:60,width:60,borderRadius:50,position:"absolute",backgroundImage:"radial-gradient(black, white 3px, black 6px, white 9px, transparent 9px)",backgroundColor:g,outline:`2px solid ${n}`,color:r,fontFamily:"Fira Code",fontWeight:"bold",textAlign:"center",lineHeight:"20px",fontSize:14,zIndex:1e6,paddingLeft:60,textShadow:d}),y},Zo:p,Xo:b,To:o,Yo:t,Io:e,Eo:a,Ao:r,Po:n,Go:l,Ro:s,jo:i,Ho:u,Oo:k,initialize:()=>{const t=$("#debug-layer");f.Fo=d,f.Do=y,f.Lo=h,t.data({Wo:f}),console.log("INITIALIZING DEBUG"),console.log(t[0]),f.q={x:o.N("#background-layer","x"),y:o.N("#background-layer","y"),z:o.N("#background-layer","z"),P:o.N("#background-layer","rotationX"),R:o.N("#background-layer","rotationY"),H:o.N("#background-layer","rotationZ"),scale:o.N("#background-layer","scale"),J:o.N("#ghost-slot-1","x"),K:o.N("#ghost-slot-1","y"),_:o.N("#ghost-slot-1","z")};const e=$('<div id="display-container"></div>').appendTo(t).css({display:"flex",flexFlow:"row",position:"absolute",bottom:50,flexWrap:"wrap"});for(const t of Object.keys(f.do)){const[,a]=f.do[t],r=$('<span class="debug-display"></span>').appendTo(e).css({display:"inline-block",color:a,fontFamily:"Fira Code",fontSize:16,textShadow:"0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black",lineHeight:"20px",height:20,width:"auto"}),n=($('<span class="debug-data-label"></span>').appendTo(r).css({fontWeight:"bold",marginRight:10,marginLeft:10}).text(`${t}:`),$('<span class="debug-data-output"></span>').appendTo(r).text(f.do[t][0]));o.No.add((()=>n.text(f.do[t][0])))}const a=$('<div id="button-container"></div>').appendTo(t).css({display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"end",float:"right",maxHeight:"25%"});for(const[t,e]of Object.entries(f.t)){const[r,n,l=o.vo.random(["lime","cyan","yellow","magenta","gold","lightgrey"]),s="black"]=e,i=$(`<button class="debug-button">${t}</button>`).appendTo(a).css({display:"block",margin:5,height:25,width:100,borderRadius:5,pointerEvents:"all",color:s,backgroundColor:l});r&&i.click((t=>{t.preventDefault(),r(t),o.to(i,{filter:"invert(1)",duration:.25,Mo:"sine.inOut",repeat:1,Bo:!0})})),n&&i.contextmenu((t=>{t.preventDefault(),n(t),o.to(i,{filter:"invert(1)",duration:.25,Mo:"sine.inOut",repeat:1,Bo:!0})}))}}};export default f;