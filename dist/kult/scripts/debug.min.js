import{gsap as o,ExpoScaleEase as t,Flip as a,MotionPathPlugin as e,RoughEase as r,SlowMo as n,SplitText as l}from"./external/greensock/all.js";import{InitializeDomElements as i,Initialize as s,SessionData as c,SetPhase as g,Update as d}from"../kult.js";import y from"./utilities.js";import h from"./constants.js";import b from"./tarot-deck.js";import p from"./tarot-card.js";const u={o:!0,t:{l:[()=>o.set(".canvas-layer:not(#control-layer)",{i:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{i:"-=5"}),"#ff66d9"],g:[()=>o.set(".canvas-layer:not(#control-layer)",{h:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{h:"-=5"}),"#ff66d9"],p:[()=>o.set(".canvas-layer:not(#control-layer)",{u:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{u:"-=5"}),"#ff66d9"],k:[()=>o.set(".master-layer",{perspective:"+=100"}),()=>o.set(".master-layer",{perspective:"-=100"}),"#4da6ff"],$:[()=>o.set(".canvas-layer:not(#control-layer)",{x:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{x:"-=5"}),"#ffff33"],m:[()=>o.set(".canvas-layer:not(#control-layer)",{y:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{y:"-=5"}),"#ffff33"],v:[()=>o.set(".canvas-layer:not(#control-layer)",{z:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{z:"-=5"}),"#ffff33"],S:[()=>o.set("#reading-section",{scale:1.1*o.X("#reading-section","scale")}),()=>o.set("#reading-section",{scale:o.X("#reading-section","scale")/1.1}),"navy","white"],Z:[t=>{o.Y.paused()?(o.Y.play(),$(t.target).text("Pause").css({backgroundColor:"#990000"})):(o.Y.pause(),$(t.target).text("Play").css({backgroundColor:"#009900"}))},null,"#990000"],C:[()=>o.Y.T(1.5*o.Y.T()),()=>o.Y.T(o.Y.T()/1.5),"brown"],A:[t=>{10===o.Y.T()?(o.Y.T(.2),$(t.target).text("▲⏰▲").css({color:"black",backgroundColor:"brown"})):(o.Y.T(10),$(t.target).text("▼⏰▼").css({color:"white",backgroundColor:"#330033"}))},()=>o.Y.T(1),"brown"],P:[()=>{u.I={x:o.X("#background-layer","x"),y:o.X("#background-layer","y"),z:o.X("#background-layer","z"),i:o.X("#background-layer","rotationX"),h:o.X("#background-layer","rotationY"),u:o.X("#background-layer","rotationZ"),scale:o.X("#background-layer","scale"),R:o.X("#ghost-slot-1","x"),j:o.X("#ghost-slot-1","y"),F:o.X("#ghost-slot-1","z")}},null,"#666666","white"],G:[()=>o.set(".ghost-zone",{x:"+=5"}),()=>o.set(".ghost-zone",{x:"-=5"}),"lime"],H:[()=>o.set(".ghost-zone",{y:"+=5"}),()=>o.set(".ghost-zone",{y:"-=5"}),"lime"],O:[()=>o.set(".ghost-zone",{z:"+=5"}),()=>o.set(".ghost-zone",{z:"-=5"}),"lime"],L:[()=>o.set(".ghost-zone",{height:"+=5"}),()=>o.set(".ghost-zone",{height:"-=5"}),"lime"],W:[()=>o.set(".ghost-zone",{width:"+=5"}),()=>o.set(".ghost-zone",{width:"-=5"}),"lime"],D:[o.set(".ghost-zone",{scale:1.1*o.X("#ghost-slot-1","scale")}),()=>o.set(".ghost-zone",{scale:o.X("#ghost-slot-1","scale")/1.1}),"lime"],M:[()=>o.set(".ghost-zone",{i:"+=5"}),()=>o.set(".ghost-zone",{i:"-=5"}),"lime"]},N:{get B(){return[y.U(o.X("#reading-section","perspective")),"#4da6ff"]},get V(){return[[`X: ${y.U(o.X("#background-layer","rotationX"))}deg (${y.q(y.U(y.J(u.I?.i,o.X("#background-layer","rotationX"))))})`,`Y: ${y.U(o.X("#background-layer","rotationY"))}deg (${y.q(y.U(y.J(u.I?.h,o.X("#background-layer","rotationY"))))})`,`Z: ${y.U(o.X("#background-layer","rotationZ"))}deg (${y.q(y.U(y.J(u.I?.u,o.X("#background-layer","rotationZ"))))})`].join(" "),"#ff66d9"]},get K(){return[[`X: ${y.q(y.U(o.X("#background-layer","x")-u.I?.x))}px`,`Y: ${y.q(y.U(o.X("#background-layer","y")-u.I?.y))}px`,`Z: ${y.q(y.U(o.X("#background-layer","z")-u.I?.z))}px`].join(" "),"#ffff33"]},get _(){return[o.Y.T(),"brown"]},get oo(){return[y.U(o.X("#reading-section","scale"),2),"cyan"]},get ao(){return[[`X: ${y.q(y.U(o.X("#ghost-slot-1","x")-u.I?.R))}px, ${y.U(o.X("#ghost-slot-1","rotationX"))}deg`,`Y: ${y.q(y.U(o.X("#ghost-slot-1","y")-u.I?.j))}px, ${y.U(o.X("#ghost-slot-1","rotationY"))}deg`,`Z: ${y.q(y.U(o.X("#ghost-slot-1","z")-u.I?.F))}px, ${y.U(o.X("#ghost-slot-1","rotationZ"))}deg`,`Height: ${y.U(o.X("#ghost-slot-1","height"))}`,`Width: ${y.U(o.X("#ghost-slot-1","width"))}`,`Scale: ${y.U(o.X("#ghost-slot-1","scale"))}`].join(" "),"lime"]}},eo:(t,{ro:a,label:e,color:r="cyan",bgColor:n="lime",shadowColor:l="black"}={})=>{let i,s,c;"id"in t?(a=$(a??$(t).parent()),i=o.X(t,"x"),s=o.X(t,"y"),c=o.X(t,"z")):(a=$(a??"body"),({x:i,y:s,z:c}=t));const g=`rgba(${[...o.lo.no(n),.2].join(", ")})`;console.log(g);const d=Boolean(l)?new Array(4).fill(`0 0 4px ${l}`).join(", "):"none",[y]=$('<div class="ping"></div>').appendTo(a);if(e){const[t]=$(`<span class="label">${e}</span>`).appendTo(y);o.set(t,{display:"block",marginTop:-20,width:"80%",textAlign:"center",marginLeft:"-40%",color:"white",background:"inherit",outline:"inherit",borderRadius:25,fontFamily:"Arial",textShadow:new Array(8).fill("0 0 4px black").join(", ")})}const[h]=$('<span class="coords"></span>').appendTo(y).html([parseInt(i),parseInt(s),parseInt(c)].join("<br>"));return o.set(y,{io:-50,so:-50,x:i,y:s,z:c,u:-1*o.X(a[0],"rotationZ"),height:60,width:60,borderRadius:50,position:"absolute",backgroundImage:"radial-gradient(black, white 3px, black 6px, white 9px, transparent 9px)",backgroundColor:g,outline:`2px solid ${n}`,color:r,fontFamily:"Fira Code",fontWeight:"bold",textAlign:"center",lineHeight:"20px",fontSize:14,zIndex:1e6,paddingLeft:60,textShadow:d}),y},co:h,do:y,yo:o,ho:t,bo:a,po:e,uo:r,fo:n,xo:l,ko:b,$o:p,initialize:()=>{const t=$("#debug-layer");u.mo=c,u.zo=g,u.wo=d,t.data({vo:u}),u.I={x:o.X("#background-layer","x"),y:o.X("#background-layer","y"),z:o.X("#background-layer","z"),i:o.X("#background-layer","rotationX"),h:o.X("#background-layer","rotationY"),u:o.X("#background-layer","rotationZ"),scale:o.X("#background-layer","scale"),R:o.X("#ghost-slot-1","x"),j:o.X("#ghost-slot-1","y"),F:o.X("#ghost-slot-1","z")};const a=$('<div id="display-container"></div>').appendTo(t).css({display:"flex",flexFlow:"row",position:"absolute",bottom:50,flexWrap:"wrap"});for(const t of Object.keys(u.N)){const[,e]=u.N[t],r=$('<span class="debug-display"></span>').appendTo(a).css({display:"inline-block",color:e,fontFamily:"Fira Code",fontSize:16,textShadow:"0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black",lineHeight:"20px",height:20,width:"auto"}),n=($('<span class="debug-data-label"></span>').appendTo(r).css({fontWeight:"bold",marginRight:10,marginLeft:10}).text(`${t}:`),$('<span class="debug-data-output"></span>').appendTo(r).text(u.N[t][0]));o.So.add((()=>n.text(u.N[t][0])))}const e=$('<div id="button-container"></div>').appendTo(t).css({display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"end",float:"right",maxHeight:"25%"});for(const[t,a]of Object.entries(u.t)){const[r,n,l=o.lo.random(["lime","cyan","yellow","magenta","gold","lightgrey"]),i="black"]=a,s=$(`<button class="debug-button">${t}</button>`).appendTo(e).css({display:"block",margin:5,height:25,width:100,borderRadius:5,pointerEvents:"all",color:i,backgroundColor:l});r&&s.click((t=>{t.preventDefault(),r(t),o.to(s,{filter:"invert(1)",duration:.25,Xo:"sine.inOut",repeat:1,Zo:!0})})),n&&s.contextmenu((t=>{t.preventDefault(),n(t),o.to(s,{filter:"invert(1)",duration:.25,Xo:"sine.inOut",repeat:1,Zo:!0})}))}}};export default u;