import{gsap as o,ExpoScaleEase as t,Flip as e,MotionPathPlugin as a,RoughEase as n,SlowMo as r,SplitText as l}from"./external/greensock/all.js";import{InitializeDomElements as s,Initialize as i,SessionData as c,SetPhase as g,Update as d}from"../kult.js";import y from"./utilities.js";import h from"./constants.js";import b from"./tarot-deck.js";import u from"./tarot-card.js";const p={o:!0,t:{l:[()=>{o.g.i(10),o.h(5,(()=>{const t=c.u[2];g(h.k.p,{$:t}),o.h(13,(()=>{o.g.i(1)}))}))},()=>{o.g.i(10),o.h(5,(()=>{const t=c.u[2];t.m=t.m.filter((o=>!("v"in o)||["Crescents","Eyes","Hourglasses"].includes(o.v))),g(h.k.p,{$:t}),o.h(13,(()=>{o.g.i(1)}))}))},"black","white"],S:[()=>{o.g.i(10),o.h(5,(()=>{const t=c.u[2];g(h.k.p,{$:t}),o.h(13,(()=>{c.$.Z.slice(0,5).forEach((o=>o.C())),o.h(13,(()=>{o.g.i(1)}))}))}))},()=>{o.g.i(10),o.h(5,(()=>{const t=c.u[2];t.m=t.m.filter((o=>!("v"in o)||["Crescents","Eyes","Hourglasses"].includes(o.v))),g(h.k.p,{$:t}),o.h(13,(()=>{c.$.Z.slice(0,5).forEach((o=>o.C())),o.h(13,(()=>{o.g.i(1)}))}))}))},"black","white"],X:[()=>{o.g.i(10),o.h(5,(()=>{const t=c.u[2];g(h.k.p,{$:t}),o.h(13,(()=>{c.$.Z.slice(0,5).forEach((o=>o.C())),o.h(13,(()=>{Object.values(c.T).forEach((({Y:o})=>o.I())),o.g.i(1)}))}))}))},()=>{o.g.i(10),o.h(5,(()=>{const t=c.u[2];t.m=t.m.filter((o=>!("v"in o)||["Crescents","Eyes","Hourglasses"].includes(o.v))),g(h.k.p,{$:t}),o.h(13,(()=>{c.$.Z.slice(0,5).forEach((o=>o.C())),o.h(13,(()=>{Object.values(c.T).forEach((({Y:o})=>o.I())),o.g.i(1)}))}))}))},"black","white"],A:[()=>o.set(".canvas-layer:not(#control-layer)",{P:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{P:"-=5"}),"#ff66d9"],G:[()=>o.set(".canvas-layer:not(#control-layer)",{R:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{R:"-=5"}),"#ff66d9"],j:[()=>o.set(".canvas-layer:not(#control-layer)",{H:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{H:"-=5"}),"#ff66d9"],O:[()=>o.set(".master-layer",{perspective:"+=100"}),()=>o.set(".master-layer",{perspective:"-=100"}),"#4da6ff"],F:[()=>o.set(".canvas-layer:not(#control-layer)",{x:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{x:"-=5"}),"#ffff33"],D:[()=>o.set(".canvas-layer:not(#control-layer)",{y:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{y:"-=5"}),"#ffff33"],L:[()=>o.set(".canvas-layer:not(#control-layer)",{z:"+=5"}),()=>o.set(".canvas-layer:not(#control-layer)",{z:"-=5"}),"#ffff33"],W:[()=>o.set("#reading-section",{scale:1.1*o.N("#reading-section","scale")}),()=>o.set("#reading-section",{scale:o.N("#reading-section","scale")/1.1}),"navy","white"],M:[t=>{o.g.paused()?(o.g.play(),$(t.target).text("Pause").css({backgroundColor:"#990000"})):(o.g.pause(),$(t.target).text("Play").css({backgroundColor:"#009900"}))},null,"#990000"],B:[()=>o.g.i(1.5*o.g.i()),()=>o.g.i(o.g.i()/1.5),"brown"],U:[t=>{10===o.g.i()?(o.g.i(.2),$(t.target).text("▲⏰▲").css({color:"black",backgroundColor:"brown"})):(o.g.i(10),$(t.target).text("▼⏰▼").css({color:"white",backgroundColor:"#330033"}))},()=>o.g.i(1),"brown"],V:[()=>{p.q={x:o.N("#background-layer","x"),y:o.N("#background-layer","y"),z:o.N("#background-layer","z"),P:o.N("#background-layer","rotationX"),R:o.N("#background-layer","rotationY"),H:o.N("#background-layer","rotationZ"),scale:o.N("#background-layer","scale"),J:o.N("#ghost-slot-1","x"),K:o.N("#ghost-slot-1","y"),_:o.N("#ghost-slot-1","z")}},null,"#666666","white"],oo:[()=>o.set(".ghost-zone",{x:"+=5"}),()=>o.set(".ghost-zone",{x:"-=5"}),"lime"],eo:[()=>o.set(".ghost-zone",{y:"+=5"}),()=>o.set(".ghost-zone",{y:"-=5"}),"lime"],ao:[()=>o.set(".ghost-zone",{z:"+=5"}),()=>o.set(".ghost-zone",{z:"-=5"}),"lime"],no:[()=>o.set(".ghost-zone",{height:"+=5"}),()=>o.set(".ghost-zone",{height:"-=5"}),"lime"],ro:[()=>o.set(".ghost-zone",{width:"+=5"}),()=>o.set(".ghost-zone",{width:"-=5"}),"lime"],lo:[o.set(".ghost-zone",{scale:1.1*o.N("#ghost-slot-1","scale")}),()=>o.set(".ghost-zone",{scale:o.N("#ghost-slot-1","scale")/1.1}),"lime"],so:[()=>o.set(".ghost-zone",{P:"+=5"}),()=>o.set(".ghost-zone",{P:"-=5"}),"lime"],io:[()=>$("#reading-section").toggleClass("show-pop-text"),null,"white"],co:[()=>$("#reading-section").toggleClass("show-ghost-text"),null,"white"]},do:{get yo(){return[y.ho(o.N("#reading-section","perspective")),"#4da6ff"]},get bo(){return[[`X: ${y.ho(o.N("#background-layer","rotationX"))}deg (${y.uo(y.ho(y.po(p.q?.P,o.N("#background-layer","rotationX"))))})`,`Y: ${y.ho(o.N("#background-layer","rotationY"))}deg (${y.uo(y.ho(y.po(p.q?.R,o.N("#background-layer","rotationY"))))})`,`Z: ${y.ho(o.N("#background-layer","rotationZ"))}deg (${y.uo(y.ho(y.po(p.q?.H,o.N("#background-layer","rotationZ"))))})`].join(" "),"#ff66d9"]},get ko(){return[[`X: ${y.uo(y.ho(o.N("#background-layer","x")-p.q?.x))}px`,`Y: ${y.uo(y.ho(o.N("#background-layer","y")-p.q?.y))}px`,`Z: ${y.uo(y.ho(o.N("#background-layer","z")-p.q?.z))}px`].join(" "),"#ffff33"]},get fo(){return[o.g.i(),"brown"]},get xo(){return[y.ho(o.N("#reading-section","scale"),2),"cyan"]},get $o(){return[[`X: ${y.uo(y.ho(o.N("#ghost-slot-1","x")-p.q?.J))}px, ${y.ho(o.N("#ghost-slot-1","rotationX"))}deg`,`Y: ${y.uo(y.ho(o.N("#ghost-slot-1","y")-p.q?.K))}px, ${y.ho(o.N("#ghost-slot-1","rotationY"))}deg`,`Z: ${y.uo(y.ho(o.N("#ghost-slot-1","z")-p.q?._))}px, ${y.ho(o.N("#ghost-slot-1","rotationZ"))}deg`,`Height: ${y.ho(o.N("#ghost-slot-1","height"))}`,`Width: ${y.ho(o.N("#ghost-slot-1","width"))}`,`Scale: ${y.ho(o.N("#ghost-slot-1","scale"))}`].join(" "),"lime"]}},mo:(t,{wo:e,label:a,color:n="cyan",bgColor:r="lime",shadowColor:l="black"}={})=>{let s,i,c;"id"in t?(e=$(e??$(t).parent()),s=o.N(t,"x"),i=o.N(t,"y"),c=o.N(t,"z")):(e=$(e??"body"),({x:s,y:i,z:c}=t));const g=`rgba(${[...o.vo.zo(r),.2].join(", ")})`;console.log(g);const d=Boolean(l)?new Array(4).fill(`0 0 4px ${l}`).join(", "):"none",[y]=$('<div class="ping"></div>').appendTo(e);if(a){const[t]=$(`<span class="label">${a}</span>`).appendTo(y);o.set(t,{display:"block",marginTop:-20,width:"80%",textAlign:"center",marginLeft:"-40%",color:"white",background:"inherit",outline:"inherit",borderRadius:25,fontFamily:"Arial",textShadow:new Array(8).fill("0 0 4px black").join(", ")})}const[h]=$('<span class="coords"></span>').appendTo(y).html([parseInt(s),parseInt(i),parseInt(c)].join("<br>"));return o.set(y,{So:-50,Zo:-50,x:s,y:i,z:c,H:-1*o.N(e[0],"rotationZ"),height:60,width:60,borderRadius:50,position:"absolute",backgroundImage:"radial-gradient(black, white 3px, black 6px, white 9px, transparent 9px)",backgroundColor:g,outline:`2px solid ${r}`,color:n,fontFamily:"Fira Code",fontWeight:"bold",textAlign:"center",lineHeight:"20px",fontSize:14,zIndex:1e6,paddingLeft:60,textShadow:d}),y},Co:h,Xo:y,To:o,Yo:t,Io:e,Eo:a,Ao:n,Po:r,Go:l,Ro:b,jo:u,initialize:()=>{const t=$("#debug-layer");p.Ho=c,p.Oo=g,p.Fo=d,t.data({Do:p}),console.log("INITIALIZING DEBUG"),console.log(t[0]),p.q={x:o.N("#background-layer","x"),y:o.N("#background-layer","y"),z:o.N("#background-layer","z"),P:o.N("#background-layer","rotationX"),R:o.N("#background-layer","rotationY"),H:o.N("#background-layer","rotationZ"),scale:o.N("#background-layer","scale"),J:o.N("#ghost-slot-1","x"),K:o.N("#ghost-slot-1","y"),_:o.N("#ghost-slot-1","z")};const e=$('<div id="display-container"></div>').appendTo(t).css({display:"flex",flexFlow:"row",position:"absolute",bottom:50,flexWrap:"wrap"});for(const t of Object.keys(p.do)){const[,a]=p.do[t],n=$('<span class="debug-display"></span>').appendTo(e).css({display:"inline-block",color:a,fontFamily:"Fira Code",fontSize:16,textShadow:"0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black, 0 0 2px black",lineHeight:"20px",height:20,width:"auto"}),r=($('<span class="debug-data-label"></span>').appendTo(n).css({fontWeight:"bold",marginRight:10,marginLeft:10}).text(`${t}:`),$('<span class="debug-data-output"></span>').appendTo(n).text(p.do[t][0]));o.Lo.add((()=>r.text(p.do[t][0])))}const a=$('<div id="button-container"></div>').appendTo(t).css({display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"end",float:"right",maxHeight:"25%"});for(const[t,e]of Object.entries(p.t)){const[n,r,l=o.vo.random(["lime","cyan","yellow","magenta","gold","lightgrey"]),s="black"]=e,i=$(`<button class="debug-button">${t}</button>`).appendTo(a).css({display:"block",margin:5,height:25,width:100,borderRadius:5,pointerEvents:"all",color:s,backgroundColor:l});n&&i.click((t=>{t.preventDefault(),n(t),o.to(i,{filter:"invert(1)",duration:.25,Wo:"sine.inOut",repeat:1,No:!0})})),r&&i.contextmenu((t=>{t.preventDefault(),r(t),o.to(i,{filter:"invert(1)",duration:.25,Wo:"sine.inOut",repeat:1,No:!0})}))}}};export default p;