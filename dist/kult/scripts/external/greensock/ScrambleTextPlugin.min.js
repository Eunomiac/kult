/*!
 * ScrambleTextPlugin 3.5.1
 * https://greensock.com
 *
 * @license Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
import{emojiSafeSplit as n,getText as t}from"./utils/strings.js";var e,i,r=function(){function t(t){this.t=n(t),this.i=[],this.length=50;for(var e=0;e<20;e++)this.i[e]=o(80,this.t)}return t.prototype.o=function(n){for(var t=0;t<20;t++)this.i[t]+=o(n-this.length,this.t);this.length=n},t}(),s=function(){return e||"undefined"!=typeof window&&(e=window.gsap)&&e.u&&e},a=/\s+/g,o=function(n,t){for(var e=t.length,i="";--n>-1;)i+=t[~~(Math.random()*e)];return i},u="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=u.toLowerCase(),p={l:new r(u),p:new r(l),h:new r(u+l)},c=function(){i=e=s()};export var ScrambleTextPlugin={version:"3.5.1",name:"scrambleText",register:function(n,t,i){e=n,c()},init:function(e,s,o,u,l){if(i||c(),this.m="innerHTML"in e?"innerHTML":"textContent"in e?"textContent":0,this.m){this.target=e,"object"!=typeof s&&(s={text:s});var f,h,b,x,m=s.text||s.value,w=!1!==s.trim,T=this;return T.T=f=s.T||"",T.g=n(t(e).replace(a," ").split("&nbsp;").join(""),f,w),"{original}"!==m&&!0!==m&&null!=m||(m=T.g.join(f)),T.text=n((m||"").replace(a," "),f,w),T.v=!(!s.C&&!s.M),T.C=s.C,T.M=s.M,x=""===f,T.S=x&&!!T.text.P,T.L=!!s.t&&!!n(s.t).P,T.length=x?T.g.length:T.g.join(f).length,T.H=(x?T.text.length:T.text.join(f).length)-T.length,T.j=s.j||s.t&&~s.t.indexOf(" ")?"&nbsp;":"",T.A=b=p[s.t||"upperCase"]||new r(s.t),T.speed=.05/(s.speed||1),T.F=0,T.B=20*Math.random()|0,(h=T.length+Math.max(T.H,0))>b.length&&b.o(h),T.t=b.i[T.B],T.D=s.D||0,T.G=!1!==s.G,T.I=o,T.J=!!s.J,T.K.push("scrambleText","text"),1}},N:function(t,e){var i,r,s,a,o,u,l,p,c,f=e.target,h=e.m,b=e.text,x=e.T,m=e.I,w=e.F,T=e.D,g=e.B,v=e.t,d=e.A,C=e.length,M=e.S,S=e.L,P=e.H,L=e.G,H=e.M,j=e.C,y=e.J,A=e.j,F=e.speed,B=e.g,D=e.v,E=b.length,G=m.O,I=G-w;T&&(m.R&&(G=m.U-G),t=0===G?0:G<T?1e-6:G===m.U?1:m.V((G-T)/(m.U-T))),t<0?t=0:t>1&&(t=1),y&&(t=1-t),i=~~(t*E+.5),t?((I>F||I<-F)&&(e.B=g=(g+(19*Math.random()|0))%20,e.t=d.i[g],e.F+=I),a=v):a=B.join(x),y?1!==t||!m.R&&"isFromStart"!==m.data?(l=b.slice(i).join(x),s=S?n(a).slice(0,C+(L?1-t*t*t:1)*P-(M?n(l):l).length+.5|0).join(""):a.substr(0,C+(L?1-t*t*t:1)*P-(M?n(l):l).length+.5|0),a=l):(s="",a=B.join(x)):(s=b.slice(0,i).join(x),r=(M?n(s):s).length,a=S?n(a).slice(r,C+(L?1-(t=1-t)*t*t*t:1)*P+.5|0).join(""):a.substr(r,C+(L?1-(t=1-t)*t*t*t:1)*P-r+.5|0)),l=D?((o=(p=y?H:j)&&0!==i)?"<span class='"+p+"'>":"")+s+(o?"</span>":"")+((u=(c=y?j:H)&&i!==E)?"<span class='"+c+"'>":"")+x+a+(u?"</span>":""):s+x+a,f[h]="&nbsp;"===A&&~l.indexOf("  ")?l.split("  ").join("&nbsp;&nbsp;"):l}};ScrambleTextPlugin.W=n,ScrambleTextPlugin.X=t,s()&&e.u(ScrambleTextPlugin);export{ScrambleTextPlugin as default};